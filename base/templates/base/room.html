{% extends 'main.html' %} 


{% block content %}

    <style>
        .home-container{
            display: grid ;
            grid-template-columns: 1fr 3fr;
        }
    </style>
    <form request="GET" action="{% url 'Rooms' %}">
      <input type="text" name="q" id="" placeholder="Enter Topic Name" />
      <input type="submit" value="Search">
    </form>
    <div class="home-container">
        <div>
            <h3>Browse Topics</h3>
            <h4> {{room_count}} Available Rooms</h4>
            <hr>
            <p><a href="{% url 'Rooms' %}"> All </a></p>
            {% for topic in topics %}
                <p><a href="{% url 'Rooms' %}?q={{topic.name}}"> {{ topic.name}}</a></p>
            {% endfor %}
        </div>

        <div>   
   
                <a href="{% url 'createRoom' %}">Create Room</a>
            
                <div>
                    {% for room in rooms %} 
                        <div style="border: 1px solid black;margin:10px;">
                            <div style="margin-bottom: 10px;">
                                {% if request.user != room.host %}
                                <a href="{% url 'updateRoom' room.id %}">Edit Room</a>
                                <a href="{% url 'deleteRoom' room.id %}">Delete Room</a>
                            {% endif %}
                            </div>
                            <span>@{{room.host.username}}</span>
                            <h5> <a href="{% url 'Room' room.id %}">{{ room.name }}</a></h5>
                            <p>{{room.description}}</p>
                            <p>Topic name : {{room.topic}}</p>
                            
                        </div>
                    {% endfor %}
                </div>

        </div>
    </div>
    
{% endblock %}
